{"ast":null,"code":"var _jsxFileName = \"/Users/mubarakmuse/Abubakar-Islamic-Institute-LMS/frontend/src/pages/LevelPage.js\",\n  _s = $RefreshSig$();\n// src/pages/ClassPage.js\nimport { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { supabase } from '../lib/supabase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LevelPage() {\n  _s();\n  const {\n    levelId\n  } = useParams();\n  const [classData, setClassData] = useState(null);\n  const [updates, setUpdates] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchClassData = async () => {\n      console.log(levelId);\n      try {\n        // Fetch class metadata\n        const {\n          data: classData,\n          error: classError\n        } = await supabase.from('levels').select('*').eq('id', levelId).single();\n        c;\n        if (classError) throw classError;\n\n        // Fetch updates for this class\n        const {\n          data: updatesData,\n          error: updatesError\n        } = await supabase.from('updates').select('*').eq('level_id', levelId).order('created_at', {\n          ascending: false\n        });\n        if (updatesError) throw updatesError;\n        setClassData(classData);\n        setUpdates(updatesData);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchClassData();\n  }, [levelId]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading\",\n    children: \"Loading class information...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"error\",\n    children: [\"Error: \", error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 21\n  }, this);\n  if (!classData) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"error\",\n    children: \"Class not found\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 26\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"class-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"class-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: classData.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"class-level\",\n        children: [\"Level: \", classData.level]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"updates-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Class Updates\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), updates.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"no-updates\",\n        children: \"No updates yet for this class.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"updates-list\",\n        children: updates.map(update => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"update-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"update-content\",\n            children: update.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"update-date\",\n            children: new Date(update.created_at).toLocaleDateString('en-US', {\n              weekday: 'long',\n              year: 'numeric',\n              month: 'long',\n              day: 'numeric',\n              hour: '2-digit',\n              minute: '2-digit'\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 17\n          }, this)]\n        }, update.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(LevelPage, \"kQn/65NJVxdNqobnumhJY2u09Yg=\", false, function () {\n  return [useParams];\n});\n_c = LevelPage;\nvar _c;\n$RefreshReg$(_c, \"LevelPage\");","map":{"version":3,"names":["useEffect","useState","useParams","supabase","jsxDEV","_jsxDEV","LevelPage","_s","levelId","classData","setClassData","updates","setUpdates","loading","setLoading","error","setError","fetchClassData","console","log","data","classError","from","select","eq","single","c","updatesData","updatesError","order","ascending","err","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","name","level","length","map","update","content","Date","created_at","toLocaleDateString","weekday","year","month","day","hour","minute","id","_c","$RefreshReg$"],"sources":["/Users/mubarakmuse/Abubakar-Islamic-Institute-LMS/frontend/src/pages/LevelPage.js"],"sourcesContent":["// src/pages/ClassPage.js\nimport { useEffect, useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { supabase } from '../lib/supabase'\n\nexport default function LevelPage() {\n  const { levelId } = useParams()\n  const [classData, setClassData] = useState(null)\n  const [updates, setUpdates] = useState([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState(null)\n\n  useEffect(() => {\n    const fetchClassData = async () => {\n      console.log(levelId)\n      try {\n        // Fetch class metadata\n        const { data: classData, error: classError } = await supabase\n          .from('levels')\n          .select('*')\n          .eq('id', levelId)\n          .single()\n\n          c\n        if (classError) throw classError\n\n        // Fetch updates for this class\n        const { data: updatesData, error: updatesError } = await supabase\n          .from('updates')\n          .select('*')\n          .eq('level_id', levelId)\n          .order('created_at', { ascending: false })\n\n        if (updatesError) throw updatesError\n\n        setClassData(classData)\n        setUpdates(updatesData)\n      } catch (err) {\n        setError(err.message)\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    fetchClassData()\n  }, [levelId])\n\n  if (loading) return <div className=\"loading\">Loading class information...</div>\n  if (error) return <div className=\"error\">Error: {error}</div>\n  if (!classData) return <div className=\"error\">Class not found</div>\n\n  return (\n    <div className=\"class-page\">\n      <header className=\"class-header\">\n        <h1>{classData.name}</h1>\n        <p className=\"class-level\">Level: {classData.level}</p>\n      </header>\n\n      <section className=\"updates-section\">\n        <h2>Class Updates</h2>\n        \n        {updates.length === 0 ? (\n          <p className=\"no-updates\">No updates yet for this class.</p>\n        ) : (\n          <div className=\"updates-list\">\n            {updates.map((update) => (\n              <div key={update.id} className=\"update-card\">\n                <p className=\"update-content\">{update.content}</p>\n                <p className=\"update-date\">\n                  {new Date(update.created_at).toLocaleDateString('en-US', {\n                    weekday: 'long',\n                    year: 'numeric',\n                    month: 'long',\n                    day: 'numeric',\n                    hour: '2-digit',\n                    minute: '2-digit'\n                  })}\n                </p>\n              </div>\n            ))}\n          </div>\n        )}\n      </section>\n    </div>\n  )\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}